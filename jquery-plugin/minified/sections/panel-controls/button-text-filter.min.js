(function(){var h=function(a,b){var c,e;e=null;var d=e="";c=a.$control.data("storage-status");b&&c?e=c:(a.controlOptions&&a.controlOptions.ignore&&(e=a.controlOptions.ignore),d=(c=b?"true"===a.$control.attr("data-selected"):a.params.selected)?a.params.dataText:"",e=new jQuery.fn.jplist.ui.controls.ButtonTextFilterDTO(a.params.dataPath,d,e,c),e=new jQuery.fn.jplist.app.dto.StatusDTO(a.name,a.action,a.type,e,a.inStorage,a.inAnimation,a.isAnimateToTop,a.inDeepLinking));return e},k=function(a){a.$control.on("click",
function(){a.params.selected=!a.params.selected;a.history.addStatus(h(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1]);a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])})},f=function(a){a.params={selected:"true"===a.$control.attr("data-selected"),dataPath:a.$control.attr("data-path"),dataText:a.$control.attr("data-text")};a.options.deepLinking&&(a.params.selected=!1);k(a);return jQuery.extend(this,a)};f.prototype.getStatus=function(a){return h(this,a)};
f.prototype.getDeepLink=function(){var a="",b;this.inDeepLinking&&(b=h(this,!1),b.data&&b.data.selected&&(a=this.name+this.options.delimiter0+"selected=true"));return a};f.prototype.getStatusByDeepLink=function(a,b){var c=null,e;if(this.inDeepLinking&&(c=h(this,!1),c.data&&(e="selected"===a&&"true"===b)))c.data.selected=e,c.data.value=this.params.dataText;return c};f.prototype.getPaths=function(a){var b;this.params.dataPath&&(b=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.dataPath,
"text"),a.push(b))};f.prototype.setStatus=function(a,b){this.inStorage&&b&&this.$control.data("storage-status",a);(this.params.selected=a.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")};jQuery.fn.jplist.ui.controls.ButtonTextFilter=function(a){return new f(a)};jQuery.fn.jplist.controlTypes["button-text-filter"]={className:"ButtonTextFilter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}}})();(function(){jQuery.fn.jplist.ui.controls.ButtonTextFilterDTO=function(h,k,f,a){return{path:h,ignore:f,value:k,selected:a,filterType:"TextFilter"}}})();(function(){var h=function(c,a){var d,l=[];d=null;d="";var b;b=c.$control.data("storage-status");a&&b?d=b:(c.controlOptions&&c.controlOptions.ignore&&(d=c.controlOptions.ignore),c.params.$buttons.each(function(c,d){var b=jQuery(d),g;g=a?"true"===b.attr("data-selected"):b.data("selected")||!1;l.push({selected:g,text:b.data("dataText"),path:b.data("dataPath")})}),d=new jQuery.fn.jplist.ui.controls.ButtonTextFilterGroupDTO(l,d),d=new jQuery.fn.jplist.app.dto.StatusDTO(c.name,c.action,c.type,d,c.inStorage,
c.inAnimation,c.isAnimateToTop,c.inDeepLinking));return d},k=function(c,a){var d,b,g;c.params.$buttons.each(function(c,h){d=jQuery(this);if(b=d.attr("data-path"))g=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(b,"text"),a.push(g)})},f=function(a,e,d){var b;a.params.$buttons.each(function(a,c){b=jQuery(c);b.removeClass("jplist-selected");b.data("selected",!1)});if(e.data&&e.data.textAndPathsGroup&&jQuery.isArray(e.data.textAndPathsGroup)&&0<e.data.textAndPathsGroup.length)for(var g=
0;g<e.data.textAndPathsGroup.length;g++)d=e.data.textAndPathsGroup[g],b=a.params.$buttons.filter('[data-path="'+d.path+'"][data-text="'+d.text+'"]'),0<b.length&&d.selected&&(b.addClass("jplist-selected"),b.data("selected",!0))},a=function(a){var b;a.params.$buttons.on("click",function(){var d=jQuery(this);b=d.data("selected")||!1;d.data("selected",!b);a.history.addStatus(h(a,!1));a.observer.trigger(a.observer.events.forceRenderStatusesEvent,[!1])})},b=function(c){c.params={$buttons:c.$control.find("[data-button]")};
c.params.$buttons.each(function(){var a=jQuery(this),b;b="true"===a.attr("data-selected");c.options.deepLinking&&(b=!1);a.data("selected",b);a.data("dataPath",a.attr("data-path"));a.data("dataText",a.attr("data-text"))});a(c);return jQuery.extend(this,c)};b.prototype.getStatus=function(a){return h(this,a)};b.prototype.getDeepLink=function(){var a="",b,d,f=[];if(this.inDeepLinking&&(b=h(this,!1),b.data&&b.data.textAndPathsGroup&&0<b.data.textAndPathsGroup.length)){for(var g=0;g<b.data.textAndPathsGroup.length;g++)d=
b.data.textAndPathsGroup[g],d.selected&&f.push(d.text+this.options.delimiter3+d.path);0<f.length&&(a=this.name+this.options.delimiter0+"selected="+f.join(this.options.delimiter2))}return a};b.prototype.getStatusByDeepLink=function(a,b){var d=null,f,g;if(this.inDeepLinking&&(d=h(this,!1),d.data&&"selected"===a)){d.data.textAndPathsGroup=[];f=b.split(this.options.delimiter2);for(var k=0;k<f.length;k++)g=f[k].split(this.options.delimiter3),2===g.length&&d.data.textAndPathsGroup.push({selected:!0,text:g[0],
path:g[1]})}return d};b.prototype.getPaths=function(a){k(this,a)};b.prototype.setStatus=function(a,b){f(this,a,b)};jQuery.fn.jplist.ui.controls.ButtonTextFilterGroup=function(a){return new b(a)};jQuery.fn.jplist.controlTypes["button-text-filter-group"]={className:"ButtonTextFilterGroup",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}}})();(function(){jQuery.fn.jplist.ui.controls.ButtonTextFilterGroupDTO=function(h,k){return{textAndPathsGroup:h,ignore:k,filterType:"textFilterPathGroup"}}})();
